<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Fcc Doc Page</title>
  <meta name="description" content="Main page for documentation and resources.">

  <link rel="stylesheet" href="http://fccsw.web.cern.ch/fccsw/css/main.css">
  <link rel="canonical" href="http://fccsw.web.cern.ch/fccsw/tutorials/fcc-tutorials/FccDocPage.html">
  <link rel="alternate" type="application/rss+xml" title="FCCSW" href="http://fccsw.web.cern.ch/fccsw/feed.xml">
</head>


  <body>

    
<header>
   <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="http://fccsw.web.cern.ch/fccsw/index.html">FCCSW</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li ><a href="http://fccsw.web.cern.ch/fccsw/index.html">Home</a></li>
            <li  class="active" ><a href="http://fccsw.web.cern.ch/fccsw/tutorials">Tutorials</a></li>
            <li><a>Latest Releases:</a></li>
            
            
              
              <li >
                <a href="http://fccsw.web.cern.ch/fccsw/2017/05/15/version081.html">FCCSW v0.8.1</a>
              </li>
              
            
              
              <li >
                <a href="http://fccsw.web.cern.ch/fccsw/2017/03/29/version08.html">FCCSW v0.8</a>
              </li>
              
            
            <li ><a href="http://fccsw.web.cern.ch/fccsw/snapshot.html">Snapshot</a></li>
          </ul>
          <form class="navbar-form navbar-right">
            <div class="input-group">
            <span class="input-group-addon" id="basic-addon1"><span class="glyphicon glyphicon-search" aria-hidden="true"></span></span>
            <input type="text" class="form-control" id="search-input" placeholder="Search" aria-describedby="basic-addon1">
            </div>
          </form>
        </div><!--/.nav-collapse -->
      </div>
    </nav>

</header>
<div class="container">
  <div class="collapse panel panel-default" id="resultswrap">
      <div class="panel-heading">Search Results <button type="button" class="close" aria-label="Close"><span aria-hidden="true" onclick="$('#resultswrap').collapse('hide');">&times;</span></button></div>
      <ul id="searchresults" class="list-group">
      </ul>
  </div>
</div>

    
    
    <div class="container">
      <div class="col-md-10">
        <h1 id="writing-documentation-for-the-fcc-software">Writing documentation for the FCC software</h1>

<p><strong>Contents:</strong></p>

<!-- TOC -->

<ul>
  <li><a href="#writing-documentation-for-the-fcc-software">Writing documentation for the FCC software</a>
    <ul>
      <li><a href="#where-to-put-documentation">Where to put documentation</a></li>
      <li><a href="#when-and-how-is-the-documentation-page-updated">When and how is the documentation page updated?</a></li>
      <li><a href="#running-website-generation-locally">Running website generation locally</a>
        <ul>
          <li><a href="#for-the-impatient">For the impatient</a></li>
          <li><a href="#for-the-interested">For the interested</a></li>
          <li><a href="#about-jekyll">About jekyll</a></li>
        </ul>
      </li>
      <li><a href="#tricks-for-writing-documentation">Tricks for writing documentation</a>
        <ul>
          <li><a href="#getting-newest-version-name">Getting newest version name</a></li>
          <li><a href="#using-bootstrap">Using bootstrap</a></li>
          <li><a href="#linking-to-other-resources">Linking to other resources</a></li>
        </ul>
      </li>
      <li><a href="#for-website-admins">For website admins</a></li>
    </ul>
  </li>
</ul>

<!-- /TOC -->

<h2 id="where-to-put-documentation">Where to put documentation</h2>

<ul>
  <li>API documentation is done with Doxygen in the source code</li>
  <li>Slightly higher level documentation on usage of a piece of software is usually put directly in the corresponding repository</li>
  <li>Tutorials that introduce users to a piece of software belong in fcc-tutorials</li>
</ul>

<blockquote>
  <p>It is sometimes difficult to decide between the last two. In those cases either will be great.</p>
</blockquote>

<h2 id="when-and-how-is-the-documentation-page-updated">When and how is the documentation page updated?</h2>

<p>The documentation page is updated automatically every night. That means that all markdown files are collected from the following
repositories and the site <a href="fccsw.web.cern.ch/fccsw">fccsw.web.cern.ch/fccsw</a> is regenerated.</p>

<p>List of repositories from which we collect markdown files:</p>

<ul>
  <li>HEP-FCC/FCCSW</li>
  <li>HEP-FCC/podio</li>
  <li>HEP-FCC/fcc-edm</li>
  <li>HEP-FCC/fcc-physics</li>
  <li>HEP-FCC/fcc-tutorials</li>
</ul>

<h2 id="running-website-generation-locally">Running website generation locally</h2>

<p><strong>This is meant for testing not to override the generated website!</strong></p>

<h3 id="for-the-impatient">For the impatient</h3>

<p>Make sure you have the prerequisites installed as detailed in the fcc-spi <a href="https://github.com/HEP-FCC/fcc-spi#prerequisites">README</a>.
Then do:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>git clone https://github.com/HEP-FCC/fcc-spi
<span class="nb">cd </span>fcc-spi
mkdir <span class="nb">local</span>-files
python collect_tutorials.py --savefiles <span class="nb">local</span>-files --savetree <span class="nb">local</span>-files/tree.pkl
<span class="c"># second run:</span>
<span class="c">#python collect_tutorials.py --loadfiles local-files --loadtree local-files/tree.pkl</span>
<span class="nb">cd </span>docpage
jekyll serve --baseurl<span class="o">=</span>
</code></pre>
</div>

<p>Now you should be able to see the website at <code class="highlighter-rouge">localhost:4000</code>.</p>

<h3 id="for-the-interested">For the interested</h3>

<p>The <code class="highlighter-rouge">collect_tutorials.py</code> script fetches the trees of the above listed repositories and searches for
markdown files and images. The script has the options:</p>

<ul>
  <li><code class="highlighter-rouge">savetree</code>, the tree is saved to the given location.</li>
  <li><code class="highlighter-rouge">loadtree</code>, load the tree.</li>
  <li><code class="highlighter-rouge">savefiles</code>, the markdown and image files are saved to the given location. If you want to debug your markdown, it may
be smarter to clone the repositories and use them directly, see below.</li>
  <li><code class="highlighter-rouge">loadfiles</code>, expects a folder containing all markdown and image files. You can create this structure either by using
the above option or by cloning all repositories in a common base directory (e.g. local-files/FCCSW, local-files/podio, etc.)</li>
</ul>

<p>In order to check the formatting of files, you should modify the files in the <code class="highlighter-rouge">loadfiles</code> directory and re-run the
<code class="highlighter-rouge">collect_tutorials</code> script again. The script also modifies the tutorials: Links are changed and the jekyll front matter
is added (se below).</p>

<h3 id="about-jekyll">About jekyll</h3>

<p>We are using jekyll to build our website. If you are interested in extending the website have a look in
the <a href="https://github.com/HEP-FCC/fcc-spi/blob/master/docpage">repository</a>. Documentation of jekyll may be found
<a href="https://jekyllrb.com/">elsewhere</a>. In case of questions contact the fcc-experiments-sw-dev mailing list or Joschka Lingemann.</p>

<h2 id="tricks-for-writing-documentation">Tricks for writing documentation</h2>

<h3 id="getting-newest-version-name">Getting newest version name</h3>

<p>Jekyll liquid allows us to get the name of the newest version of the software, add this to the beginning of your markdown:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="w">
</span><span class="p">{</span><span class="err">%</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">post</span><span class="w"> </span><span class="err">in</span><span class="w"> </span><span class="err">site.posts</span><span class="w"> </span><span class="err">reversed</span><span class="w"> </span><span class="err">limit:1</span><span class="w"> </span><span class="err">%</span><span class="p">}</span><span class="w">
</span><span class="p">{</span><span class="err">%</span><span class="w"> </span><span class="err">assign</span><span class="w"> </span><span class="err">latest_version=post.thisversion</span><span class="w"> </span><span class="err">%</span><span class="p">}</span><span class="w">
</span><span class="p">{</span><span class="err">%</span><span class="w"> </span><span class="err">endfor</span><span class="w"> </span><span class="err">%</span><span class="p">}</span><span class="w">

</span></code></pre>
</div>

<p>In the following you can use <code class="highlighter-rouge"><span class="p">{</span><span class="err">{latest_version</span><span class="p">}</span><span class="err">}</span></code> and it will print the name of the latest FCC software version.</p>

<h3 id="using-bootstrap">Using bootstrap</h3>

<p>We use bootstrap and you can mix your markdown with html to use any <a href="http://getbootstrap.com/">bootstrap functionality</a>.</p>

<h3 id="linking-to-other-resources">Linking to other resources</h3>

<p>In general you don’t have to take a lot of care how you link. If you link to other content within this repository, just
use relative paths. If you want to link to something in another repository, use the full URL. In the latter case, during
the markdown collection, the links are modified to point to the generated websites in case it is a markdown file.</p>

<h2 id="for-website-admins">For website admins</h2>

<p>Administrators controlling access to the webspace need to be members of the e-group <code class="highlighter-rouge">cernbox-project-fccsw-web-admins</code>.</p>

<p>If you want to have write-access you need to request membership in
<code class="highlighter-rouge">cernbox-project-fccsw-web-writers</code>. If you are the main responsible for these activities, you should own the service account <code class="highlighter-rouge">fccsweos</code> that has admin rights for both the physics data EOS space and the web EOS space.</p>

      </div>
      <div class="col-md-2">    <ul class="list-group">
        <li class="list-group-header">
            <h4>External links</h4>
        </li>
        
            <li class="list-group-item">
                <a href='http://cern.ch/simba3/SelfSubscription.aspx?groupName=fcc-experiments-sw-dev'>FCCSW Mailing list</a>
            </li>
        
            <li class="list-group-item">
                <a href='http://fccsw.web.cern.ch/fccsw/tutorials/'>FCCSW Tutorials</a>
            </li>
        
            <li class="list-group-item">
                <a href='https://github.com/HEP-FCC/fccsw/issues'>FCCSW Issue Tracker</a>
            </li>
        
            <li class="list-group-item">
                <a href='https://github.com/HEP-FCC/'>FCCSW on GitHub</a>
            </li>
        
            <li class="list-group-item">
                <a href='https://phsft-jenkins.cern.ch/view/FCC/'>FCCSW Jenkins</a>
            </li>
        
            <li class="list-group-item">
                <a href='https://github.com/HEP-FCC/FCCSW/blob/master/doc/CppCodingStyleGuidelines.md'>FCCSW C++ Style Guide</a>
            </li>
        
            <li class="list-group-item">
                <a href='https://github.com/HEP-FCC/FCCSW/blob/master/doc/GeneralCppGuidelines.md'>General C++ Guidelines</a>
            </li>
        
    </ul>
</div>
    </div>
    <script src="http://fccsw.web.cern.ch/fccsw/node_modules/jquery/dist/jquery.min.js" type="text/javascript"></script>
<script src="http://fccsw.web.cern.ch/fccsw/node_modules/bootstrap-sass/assets/javascripts/bootstrap.min.js" type="text/javascript"></script>
<script src="http://fccsw.web.cern.ch/fccsw/node_modules/requirejs/require.js" type="text/javascript"></script>
<script src="http://fccsw.web.cern.ch/fccsw/node_modules/simple-jekyll-search/dest/simple-jekyll-search.min.js" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
    <script type="text/javascript">
      SimpleJekyllSearch({
        searchInput: document.getElementById('search-input'),
        resultsContainer: document.getElementById('searchresults'),
        json: 'http://fccsw.web.cern.ch/fccsw/search.json',
        searchResultTemplate: '<li class="list-group-item"><a href="{url}" title="{desc}">{title}</a></li>',
        noResultsText: '<li class="list-group-item">No results found</li>',
        limit: 10,
        fuzzy: false,
        exclude: ['Welcome']
      });
      $("#search-input").keypress(function() {
            $("#resultswrap").collapse('show');
      });
      $("#search-input").keyup(function() {
            if ($(this).val() == "") {
                $("#resultswrap").collapse('hide');
            }
      });
      $("table").each(function(index) {
        $(this).addClass("table");
      });
    </script>


  </body>
</html>
